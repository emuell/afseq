<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>PATTRNS playground</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;700&display=swap">
    <link rel="stylesheet" href="./app.css">
</head>

<body>
    <div id="loading">
        <div id="spinner" class="spinner"></div>
        <div id="spinner-status">Loading...</div>
    </div>

    <div id="content">
        <div class="header">
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 104 34" style="width: 132px;">
                    <path
                        d="M 12.39 17.918 C 12.089 17.918 11.794 17.913 11.505 17.904 C 11.216 17.895 10.947 17.877 10.698 17.85 L 8.915 25 L 5.566 25 L 10.127 6.707 L 15.404 6.707 C 16.288 6.707 17.051 6.746 17.692 6.823 C 18.334 6.9 18.895 7.017 19.376 7.172 C 20.529 7.555 21.339 8.165 21.804 9.004 C 22.269 9.843 22.341 10.909 22.018 12.203 C 21.797 13.087 21.417 13.882 20.876 14.589 C 20.335 15.295 19.653 15.894 18.828 16.387 C 18.004 16.879 17.053 17.257 15.975 17.521 C 14.898 17.786 13.703 17.918 12.39 17.918 Z M 11.4 15.033 C 11.585 15.06 11.823 15.081 12.116 15.095 C 12.409 15.108 12.715 15.115 13.034 15.115 C 13.937 15.115 14.711 15.042 15.358 14.896 C 16.005 14.751 16.548 14.548 16.986 14.288 C 17.425 14.028 17.772 13.714 18.028 13.345 C 18.284 12.976 18.467 12.572 18.576 12.135 C 18.71 11.597 18.703 11.132 18.555 10.74 C 18.406 10.348 18.054 10.043 17.498 9.824 C 17.206 9.715 16.832 9.635 16.375 9.585 C 15.918 9.535 15.348 9.51 14.664 9.51 L 12.777 9.51 L 11.4 15.033 Z"
                        style="text-wrap-mode: nowrap; fill: rgb(255, 255, 255);"></path>
                    <path
                        d="M 28.63 20.338 L 21.739 20.338 L 18.786 25 L 15.217 25 L 27.038 6.707 L 30.101 6.707 L 32.8 25 L 29.258 25 L 28.63 20.338 Z M 27.458 11.109 C 26.343 13.023 25.374 14.623 24.553 15.908 L 23.518 17.535 L 28.249 17.535 L 28.025 15.908 C 27.846 14.614 27.676 13.014 27.513 11.109 L 27.458 11.109 Z"
                        style="text-wrap-mode: nowrap; fill: rgb(255, 255, 255);"></path>
                    <path
                        d="M 36.598 25 L 33.249 25 L 37.111 9.51 L 31.204 9.51 L 31.903 6.707 L 47.052 6.707 L 46.353 9.51 L 40.46 9.51 L 36.598 25 Z"
                        style="text-wrap-mode: nowrap; fill: rgb(255, 255, 255);"></path>
                    <path
                        d="M 48.739 25 L 45.39 25 L 49.252 9.51 L 43.345 9.51 L 44.044 6.707 L 59.193 6.707 L 58.494 9.51 L 52.601 9.51 L 48.739 25 Z"
                        style="text-wrap-mode: nowrap; fill: rgb(255, 255, 255);"></path>
                    <path
                        d="M 71.131 12.203 C 70.812 13.479 70.189 14.561 69.262 15.45 C 68.334 16.339 67.078 16.997 65.495 17.426 L 65.481 17.48 L 69.047 25 L 65.028 25 L 61.817 17.918 L 59.52 17.918 L 57.754 25 L 54.405 25 L 58.966 6.707 L 64.53 6.707 C 65.451 6.707 66.294 6.759 67.061 6.864 C 67.828 6.969 68.468 7.126 68.981 7.336 C 69.954 7.746 70.632 8.354 71.014 9.161 C 71.396 9.968 71.435 10.982 71.131 12.203 Z M 61.873 15.115 C 62.639 15.115 63.297 15.081 63.847 15.013 C 64.398 14.944 64.872 14.842 65.271 14.705 C 66.009 14.45 66.563 14.101 66.933 13.659 C 67.303 13.217 67.559 12.709 67.702 12.135 C 67.825 11.642 67.831 11.207 67.72 10.829 C 67.609 10.451 67.335 10.153 66.898 9.934 C 66.615 9.788 66.241 9.681 65.775 9.612 C 65.309 9.544 64.72 9.51 64.009 9.51 L 61.617 9.51 L 60.219 15.115 L 61.873 15.115 Z"
                        style="fill: rgb(169, 64, 28); text-wrap-mode: nowrap;"></path>
                    <path
                        d="M 80.355 15.211 C 81.164 17.08 81.787 18.739 82.225 20.188 L 82.303 20.188 C 82.765 17.809 83.126 16.077 83.384 14.992 L 85.356 6.707 L 88.555 6.707 L 84.2 25 L 80.844 25 L 77.158 16.578 C 76.504 15.12 75.871 13.429 75.258 11.506 L 75.18 11.506 C 74.751 13.748 74.389 15.484 74.096 16.715 L 72.124 25 L 68.926 25 L 73.281 6.707 L 76.636 6.707 L 80.355 15.211 Z"
                        style="fill: rgb(169, 64, 28); text-wrap-mode: nowrap;"></path>
                    <path
                        d="M 95.611 19.75 C 95.727 19.285 95.707 18.909 95.55 18.622 C 95.394 18.335 95.143 18.1 94.796 17.918 C 94.449 17.736 94.046 17.588 93.587 17.474 C 93.128 17.36 92.644 17.248 92.133 17.139 C 91.46 16.984 90.827 16.799 90.234 16.585 C 89.64 16.371 89.144 16.075 88.746 15.696 C 88.349 15.318 88.077 14.837 87.93 14.254 C 87.784 13.671 87.82 12.941 88.038 12.066 C 88.279 11.1 88.657 10.259 89.173 9.544 C 89.688 8.829 90.294 8.236 90.99 7.767 C 91.686 7.298 92.453 6.947 93.29 6.714 C 94.127 6.481 95.033 6.365 96.008 6.365 C 96.983 6.365 97.939 6.461 98.876 6.652 C 99.813 6.843 100.599 7.09 101.235 7.391 L 100.519 10.262 C 99.664 9.888 98.823 9.617 97.995 9.448 C 97.166 9.279 96.369 9.195 95.604 9.195 C 94.501 9.195 93.601 9.396 92.904 9.797 C 92.207 10.198 91.758 10.799 91.558 11.602 C 91.442 12.067 91.445 12.449 91.566 12.75 C 91.687 13.051 91.891 13.299 92.18 13.495 C 92.469 13.691 92.817 13.848 93.224 13.967 C 93.632 14.086 94.07 14.195 94.537 14.295 C 95.271 14.459 95.964 14.648 96.617 14.862 C 97.27 15.077 97.823 15.375 98.274 15.758 C 98.725 16.141 99.034 16.64 99.2 17.255 C 99.365 17.87 99.329 18.656 99.09 19.613 C 98.845 20.598 98.45 21.45 97.906 22.17 C 97.362 22.89 96.696 23.485 95.909 23.954 C 95.122 24.423 94.222 24.772 93.208 25 C 92.194 25.228 91.117 25.342 89.978 25.342 C 88.985 25.342 88.032 25.244 87.119 25.048 C 86.206 24.852 85.475 24.576 84.926 24.221 L 85.631 21.391 C 86.436 21.783 87.244 22.068 88.057 22.245 C 88.87 22.423 89.732 22.512 90.643 22.512 C 91.172 22.512 91.702 22.469 92.234 22.382 C 92.766 22.295 93.261 22.147 93.719 21.938 C 94.176 21.728 94.573 21.443 94.909 21.083 C 95.245 20.723 95.479 20.279 95.611 19.75 Z"
                        style="fill: rgb(169, 64, 28); text-wrap-mode: nowrap;"></path>
                    <path
                        d="M 5.008 32.168 L 4.371 32.168 L 5.674 26.941 L 7.123 26.941 C 7.34 26.941 7.536 26.954 7.713 26.98 C 7.89 27.007 8.049 27.047 8.189 27.102 C 8.474 27.214 8.669 27.381 8.775 27.604 C 8.881 27.827 8.893 28.101 8.812 28.426 C 8.746 28.691 8.635 28.925 8.479 29.127 C 8.323 29.329 8.128 29.498 7.894 29.633 C 7.659 29.768 7.39 29.87 7.085 29.939 C 6.78 30.008 6.445 30.043 6.081 30.043 C 5.906 30.043 5.727 30.035 5.543 30.02 L 5.008 32.168 Z M 5.689 29.438 C 5.772 29.448 5.86 29.456 5.952 29.461 C 6.045 29.466 6.133 29.469 6.216 29.469 C 6.515 29.469 6.776 29.445 6.999 29.398 C 7.222 29.351 7.411 29.283 7.566 29.193 C 7.721 29.104 7.845 28.994 7.937 28.865 C 8.029 28.736 8.095 28.59 8.136 28.426 C 8.187 28.223 8.179 28.056 8.114 27.926 C 8.049 27.795 7.935 27.696 7.772 27.629 C 7.671 27.587 7.549 27.558 7.408 27.541 C 7.266 27.524 7.099 27.516 6.906 27.516 L 6.168 27.516 L 5.689 29.438 Z M 10.865 26.941 L 9.705 31.594 L 12.256 31.594 L 12.112 32.168 L 8.925 32.168 L 10.228 26.941 L 10.865 26.941 Z M 12.37 32.168 L 15.802 26.941 L 16.353 26.941 L 17.179 32.168 L 16.487 32.168 L 16.255 30.594 L 14.071 30.594 L 13.054 32.168 L 12.37 32.168 Z M 15.869 27.754 C 15.475 28.405 15.105 28.996 14.759 29.527 L 14.441 30.02 L 16.171 30.02 L 16.099 29.527 C 16.02 28.986 15.949 28.395 15.885 27.754 L 15.869 27.754 Z M 19.874 30.066 L 19.35 32.168 L 18.713 32.168 L 19.237 30.066 L 18.114 26.941 L 18.809 26.941 L 19.692 29.48 L 19.711 29.48 L 21.86 26.941 L 22.555 26.941 L 19.874 30.066 Z M 25.548 30.055 L 24.357 30.055 L 24.5 29.48 L 26.328 29.48 L 25.698 32.008 C 25.636 32.037 25.549 32.066 25.436 32.096 C 25.323 32.126 25.195 32.154 25.053 32.18 C 24.911 32.206 24.761 32.227 24.602 32.242 C 24.443 32.258 24.288 32.266 24.137 32.266 C 23.689 32.266 23.309 32.205 22.998 32.082 C 22.686 31.959 22.442 31.786 22.266 31.563 C 22.09 31.339 21.982 31.067 21.942 30.746 C 21.902 30.426 21.931 30.069 22.029 29.676 C 22.136 29.249 22.302 28.861 22.528 28.512 C 22.755 28.163 23.026 27.864 23.341 27.617 C 23.657 27.37 24.008 27.179 24.394 27.045 C 24.781 26.911 25.186 26.844 25.61 26.844 C 25.725 26.844 25.838 26.848 25.951 26.857 C 26.063 26.866 26.169 26.88 26.269 26.897 C 26.369 26.914 26.46 26.934 26.543 26.957 C 26.626 26.98 26.694 27.005 26.747 27.031 L 26.607 27.594 C 26.464 27.542 26.295 27.498 26.1 27.463 C 25.906 27.428 25.707 27.41 25.504 27.41 C 25.207 27.41 24.913 27.455 24.621 27.545 C 24.329 27.635 24.057 27.771 23.806 27.953 C 23.555 28.136 23.334 28.364 23.143 28.639 C 22.952 28.914 22.811 29.236 22.719 29.605 C 22.628 29.967 22.6 30.28 22.635 30.543 C 22.67 30.806 22.757 31.024 22.898 31.195 C 23.039 31.367 23.23 31.494 23.471 31.576 C 23.712 31.658 23.993 31.699 24.314 31.699 C 24.462 31.699 24.61 31.691 24.759 31.676 C 24.908 31.66 25.041 31.638 25.16 31.609 L 25.548 30.055 Z M 28.151 30.004 L 27.611 32.168 L 26.974 32.168 L 28.278 26.941 L 29.633 26.941 C 29.862 26.941 30.055 26.95 30.211 26.967 C 30.367 26.984 30.507 27.01 30.63 27.047 C 30.97 27.146 31.207 27.314 31.34 27.553 C 31.473 27.791 31.496 28.088 31.407 28.445 C 31.354 28.656 31.273 28.845 31.164 29.012 C 31.055 29.179 30.923 29.323 30.77 29.445 C 30.617 29.568 30.446 29.668 30.256 29.746 C 30.066 29.824 29.862 29.881 29.645 29.918 L 29.641 29.934 L 30.791 32.168 L 29.99 32.168 L 28.92 30.004 L 28.151 30.004 Z M 28.771 27.516 L 28.294 29.43 L 28.923 29.43 C 29.118 29.43 29.287 29.423 29.428 29.41 C 29.569 29.397 29.699 29.374 29.816 29.34 C 30.055 29.272 30.252 29.164 30.409 29.016 C 30.566 28.867 30.674 28.673 30.734 28.434 C 30.787 28.21 30.775 28.03 30.697 27.893 C 30.619 27.756 30.488 27.658 30.305 27.598 C 30.218 27.569 30.112 27.548 29.985 27.535 C 29.858 27.522 29.695 27.516 29.494 27.516 L 28.771 27.516 Z M 36.312 29.559 C 36.4 29.207 36.432 28.897 36.407 28.629 C 36.383 28.361 36.313 28.137 36.198 27.957 C 36.083 27.778 35.928 27.642 35.733 27.549 C 35.539 27.456 35.317 27.41 35.067 27.41 C 34.817 27.41 34.572 27.456 34.331 27.549 C 34.09 27.642 33.868 27.778 33.663 27.957 C 33.458 28.137 33.276 28.361 33.118 28.629 C 32.96 28.897 32.837 29.207 32.75 29.559 C 32.662 29.91 32.631 30.219 32.657 30.486 C 32.683 30.753 32.754 30.977 32.869 31.156 C 32.984 31.336 33.139 31.472 33.334 31.563 C 33.529 31.654 33.752 31.699 34.005 31.699 C 34.255 31.699 34.499 31.654 34.736 31.563 C 34.974 31.472 35.195 31.336 35.4 31.156 C 35.605 30.977 35.787 30.753 35.944 30.486 C 36.102 30.219 36.225 29.91 36.312 29.559 Z M 36.984 29.559 C 36.885 29.954 36.738 30.317 36.541 30.648 C 36.344 30.979 36.108 31.265 35.835 31.504 C 35.562 31.743 35.258 31.93 34.924 32.064 C 34.589 32.199 34.236 32.266 33.864 32.266 C 33.479 32.266 33.15 32.199 32.879 32.064 C 32.608 31.93 32.396 31.743 32.245 31.504 C 32.094 31.265 32.003 30.979 31.974 30.648 C 31.945 30.317 31.979 29.954 32.078 29.559 C 32.177 29.16 32.326 28.795 32.525 28.463 C 32.724 28.131 32.959 27.845 33.231 27.605 C 33.503 27.366 33.807 27.179 34.142 27.045 C 34.477 26.911 34.833 26.844 35.208 26.844 C 35.591 26.844 35.917 26.911 36.187 27.045 C 36.457 27.179 36.668 27.366 36.819 27.605 C 36.97 27.845 37.06 28.131 37.089 28.463 C 37.118 28.795 37.083 29.16 36.984 29.559 Z M 39.332 31.699 C 39.523 31.699 39.697 31.677 39.855 31.633 C 40.013 31.588 40.157 31.526 40.286 31.445 C 40.416 31.364 40.531 31.267 40.632 31.154 C 40.733 31.041 40.821 30.915 40.894 30.777 C 40.941 30.691 40.984 30.595 41.021 30.49 C 41.058 30.385 41.088 30.283 41.113 30.184 L 41.921 26.941 L 42.558 26.941 L 41.753 30.168 C 41.722 30.291 41.684 30.418 41.638 30.551 C 41.592 30.684 41.54 30.807 41.483 30.922 C 41.386 31.115 41.267 31.293 41.127 31.457 C 40.987 31.621 40.823 31.763 40.634 31.883 C 40.445 32.003 40.231 32.097 39.992 32.164 C 39.753 32.232 39.483 32.266 39.183 32.266 C 38.897 32.266 38.654 32.235 38.453 32.172 C 38.252 32.109 38.088 32.023 37.961 31.912 C 37.834 31.801 37.739 31.67 37.678 31.518 C 37.617 31.365 37.582 31.199 37.572 31.02 C 37.565 30.889 37.572 30.75 37.592 30.602 C 37.613 30.453 37.64 30.309 37.675 30.168 L 38.48 26.941 L 39.116 26.941 L 38.308 30.184 C 38.279 30.301 38.257 30.421 38.243 30.545 C 38.229 30.668 38.228 30.781 38.239 30.883 C 38.267 31.136 38.369 31.335 38.545 31.48 C 38.721 31.626 38.983 31.699 39.332 31.699 Z M 45.612 29.855 C 45.817 30.316 46.016 30.79 46.207 31.277 L 46.23 31.277 C 46.323 30.77 46.435 30.252 46.567 29.723 L 47.26 26.941 L 47.897 26.941 L 46.594 32.168 L 45.961 32.168 L 44.637 29.254 C 44.41 28.746 44.211 28.272 44.042 27.832 L 44.019 27.832 C 43.934 28.309 43.812 28.865 43.654 29.5 L 42.989 32.168 L 42.352 32.168 L 43.655 26.941 L 44.288 26.941 L 45.612 29.855 Z M 52.638 29.531 C 52.562 29.836 52.453 30.122 52.31 30.391 C 52.168 30.659 51.994 30.9 51.788 31.115 C 51.582 31.33 51.346 31.516 51.079 31.672 C 50.812 31.828 50.515 31.949 50.189 32.035 C 50.002 32.084 49.805 32.119 49.597 32.139 C 49.389 32.158 49.167 32.168 48.93 32.168 L 47.746 32.168 L 49.049 26.941 L 50.244 26.941 C 50.481 26.941 50.699 26.951 50.897 26.971 C 51.096 26.99 51.276 27.025 51.438 27.074 C 51.721 27.16 51.958 27.28 52.147 27.434 C 52.336 27.587 52.48 27.769 52.578 27.979 C 52.675 28.188 52.728 28.424 52.737 28.686 C 52.746 28.947 52.713 29.229 52.638 29.531 Z M 51.966 29.531 C 52.091 29.028 52.084 28.621 51.943 28.309 C 51.802 27.996 51.543 27.775 51.167 27.645 C 51.023 27.595 50.857 27.561 50.669 27.543 C 50.48 27.525 50.265 27.516 50.023 27.516 L 49.543 27.516 L 48.526 31.594 L 49.006 31.594 C 49.249 31.594 49.469 31.585 49.666 31.566 C 49.863 31.548 50.045 31.514 50.214 31.465 C 50.655 31.335 51.026 31.107 51.326 30.781 C 51.626 30.456 51.839 30.039 51.966 29.531 Z"
                        style="text-transform: uppercase; text-wrap-mode: nowrap; fill: rgb(255, 255, 255);"></path>
                </svg>
            </div>
            <div class="header-right">
                <a href="https://emuell.github.io/pattrns/" class="tutorial-link">Read the Tutorials</a>
            </div>
        </div>

        <div class="transport">
            <button id="playButton" title="Start playback"><i class="fas fa-play"></i></button>
            <button id="stopButton" title="Stop playback"><i class="fas fa-stop"></i></button>
            <button id="midiButton" title="Play scripts polyphonically with MIDI Input">
                <svg width="40" height="14" viewBox="10 0 62 20" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M10 0h8v20h-8zm9 0h8v20h-8zm9 0h8v20h-8zm9 0h8v20h-8zm9 0h8v20h-8zm9 0h8v20h-8zm9 0h8v20h-8z"
                        fill="currentColor" stroke="black" stroke-width="0.5" />
                    <path d="M15 0h6v12h-6zm9 0h6v12h-6zm18 0h6v12h-6zm9 0h6v12h-6zm9 0h6v12h-6z" fill="black" />
                </svg>
            </button>

            <div class="bpm-control">
                <span>BPM:</span>
                <input type="number" id="bpmInput" value="120" min="60" max="300">
            </div>

            <div class="sample-control">
                <span>Samples:</span>
                <select id="sampleSelect">
                    <option value="none">Loading Samples...</option>
                </select>
            </div>
        </div>

        <div class="main-container">
            <div class="editor-column">
                <div class="editor-status">
                    <div id="editor-status-content" class="editor-status-content hidden">
                        <span>Hit <code>Control + Enter</code> to apply changes</span>
                        <span id="editCount">no edits</span>
                    </div>
                </div>
                <div id="editor" class="editor"></div>
                <div id="editor-error" class="editor-error">
                    <div id="editor-error-content" class="editor-error-content"></div>
                </div>
            </div>
            <div id="examples-column" class="examples-column">
                <ul id="examples-list"></ul>
            </div>
        </div>
        <div id="status" class="status">Loading...</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.40.0/min/vs/loader.min.js"></script>
    <script src="app.js" type="module"></script>

</body>

</html>